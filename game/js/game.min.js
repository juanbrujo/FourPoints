function play(){player.className=colors[0],player.addEventListener("click",function(){var a=90;player.style.webkitTransform+="rotate("+a+"deg)",player.style.transform+="rotate("+a+"deg)",nextColor()}),makeBox(subsSpeed),score.innerHTML=plays}function nextColor(){player.className=colors[indexColor],indexColor=(indexColor+1)%colors.length}function makeBox(a){function b(){var b=document.createElement("span");b.className=c,document.body.appendChild(b),move(b,totalHeight,a)}var c=colors[Math.floor(Math.random()*colors.length)],d=document.querySelector("span");d?(document.body.removeChild(d),b()):b()}function move(a,b,c){function d(){e++,a.style.top=e+"px",e==b&&(clearInterval(id),win(player,a))}var e=0;id=setInterval(d,speed-c)}function clearPlay(){document.body.removeChild(box),clearInterval(id)}function win(a,b){var c=a.className,d=b.className,e=score.innerHTML;c===d?(score.innerHTML=parseInt(e)-1,0==score.innerHTML?(modal("end","WINNER"),clearPlay()):newSpeed=plays-score.innerHTML+1,makeBox(newSpeed),score.classList.remove("bad"),score.className+=" good"):(makeBox(0),score.classList.remove("good"),score.className+=" bad")}function modal(a,b){var c=document.querySelector("#modal"),d=document.querySelector("#title"),e=document.querySelector("#msg");"show"===a?translate="0%":"hide"===a?translate="-1000%":"end"===a&&(translate="0%",start.style.opacity="0"),e.innerHTML=b,c.style.webkitTransform="translateX("+translate+")",c.style.transform="translateX("+translate+")",d.style.webkitTransform="translateX("+translate+")",d.style.transform="translateX("+translate+")",e.style.webkitTransform="translateX("+translate+")",e.style.transform="translateX("+translate+")",start.style.webkitTransform="translateX("+translate+")",start.style.transform="translateX("+translate+")"}function init(){modal("show","click the wheel to make it match the color of the box"),start.addEventListener("click",function(){modal("hide",""),play()})}var player=document.querySelector("#player"),start=document.querySelector("#start"),totalHeight=player.offsetTop,plays=5,speed=6,subsSpeed=0,id=0,score=document.querySelector("#score"),colors=["blue","orange","green","red"],indexColor=1;init();